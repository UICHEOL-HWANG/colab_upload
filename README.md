# colab_upload

# 사이드 프로젝트 : 크롤링 
- - - 

 * 1. 네이버 쇼핑 API를 통한 쇼핑 인사이트 
 * 2. 공공데이터 포털 API 파싱
   

   * 2-2. 한국문화관광연구원 _ 출입국관광통계서비스 내 중국인 출입 현황 그래프

       ![결과그래프](./images/다운로드.png)
* 3. 네이버 검색 트렌드 API를 통한 파싱
  * 3-1. 대한민국 3대 대형은행 (농협,신한,국민) 날짜별 검색 현황
  

  * 3-2. 쇼핑때와는 다르게 일률적으로 분포되어 있는 것을 확인
     ![결과그래프](./images/은행_그래프.png)
 - - - 
 
  
파이썬 기초 1 

초기 세팅 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/edf52975-9cda-49b5-8df5-e8e7f854f507/Untitled.png)

![기본적인 머신러닝을 위해 GPU로 변경](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2f47aebe-f8d2-4862-9766-1917a6d1c72c/Untitled.png)

기본적인 머신러닝을 위해 GPU로 변경

## 01. 🍟변수란?

자료를 넣는 상자 

어떤 자료를 담느냐에 따라 상자의 모양 / 성격(자료형)이 달라짐

```python
a = 1 
b = 3.14
c = "ㄱ" # str 문자형은 반드시 따옴표를 넣어야한다 

print(type(a))
print(type(b))
print(type(c))
```

### 문자의 특성

문자 1개 = 문자 

문자 2개 이상 = 문자열

문자열은 순서가 있고 번호를 불러 그 번호에 해당하는 문자를 꺼내올 수 있다.

Python에서 문자열의 길이(문자열에 포함된 문자의 개수)는 내장 함수 `len()`을 이용하여 구할 수 있다.

예를 들어, 아래와 같은 문자열의 길이를 구할 수 있다.

```python
str = "Hello World"
print(len(str))  # 11 출력

```

또한, 문자열 메서드 `count()`를 이용하여 특정 문자나 문자열이 문자열 내에 몇 개 존재하는지 세어볼 수도 있다.

```python
str = "Hello World"
print(str.count('l'))   # 3 출력
print(str.count('lo'))  # 1 출력

```

### 변수의 특징

변수에는 1개의 자료만이 들어갈 수 있다.

변수에 다른 자료를 넣으면 이전 자료는 사라지게 된다. 

---

### 변수 삭제하기

```python
del # 변수를 삭제시키는 명령어
```

### 키보드 값을 입력 받아 변수에 저장하기

```python
num = int(input('갑 입력>>'))
print(num)
```

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/15db0aa4-9539-4419-aba6-260460037bd4/Untitled.png)

---

**형 변환**

- 데이터 타입을 변환 시켜준다
- int - 정수 : int(변수명)
- float 실수 : float(변수명)
- str 문자/문자열 : str(변수명)

---

**문자와 문자열**

- 문자형 변수에는 단어 뿐만 아니라 문장도 들어갑니다

---

**리스트형 변수 - 데이터 분석에서 가장 많이 사용하는 자료형 1**

- 모든 데이터 타입(정수,실수,문자열,리스트,딕셔너리)의 자료를 넣을 수 있다.
- 리스트 자료형은 순서기 있는 자료형이다
- 순서가 있는 자료형은 index(번호)로 자료를 꺼낼 수 있다.
- 리스트 자료형식은 [자료1,자료2,자료3] 형식을 만든다

---

**슬라이싱 : 리스트에서 범위를 지정해 자료를 여러개 가져오는 법**

- 변수명[시작번호:끝번호 바로 앞까지 범위]
- 변수명[시작번호:끝번호 바로 앞까지:범위간격]

---

**튜플**

- 튜플을 리스트와 거의 동일
- 차이점은 리스트 대괄호 [] 튜플은 () 괄호로 포장
- 리스트는 자료의 변경이 가능하나 튜플은 변경이 불가능하다
- 리스트보다 속도가 빠르기 때문에 쓰인다

---

**딕셔너리  : JSON이라고도 함**

데이터분석에서 가장 많이 사용되는 자료형2

- key : value 형태의 자료형으로 나중에 API를 이용해서 자료를 수집하면 대부분 JSON 형태로 받게된다.
- 변수명 = {key:value, ....}
- Value = 모든 자료형이 올 수 있다.

## 🌭연산자의 종류와 활용

1) 연산자의 종류

1-1) 더하기 

1-2) 빼기 

1-3) 곱하기

1-4) 나누기 

1-5) 나머지

*) 나누기를 하면 나머지가 타입이 실수로 변한다

**할당 연산자**

- =,+=,-=,*=,/=,%=

**괄호 사용법**

연산자 우선순위 : () 안쪽이 연산에서 우선 순위를 갖는다

**할당 연산자**

- =,+=,-=,*=,/=,%=

**비교연산자 ==,!= , >,<,>=,<=**

- 항상 왼쪽을 기준으로 비교

**!= 다르면 True, 같으면 False**

> 왼쪽을 기준으로 왼쪽 값이 오른쪽보다 큰것인가?

**식별 연산자 : is,is not - 객체(object)가 같은지 비교**

**논리 연산자**

- and, or , not not
- and는 비교 하는 두 값 모두가 참이어야 참이 된다 .

**1. 산술 연산자(arithmetic operator)**

**기본적인 산술 연산을 위해 제공되는 연산자이다.**

| + | 왼쪽 항에 오른쪽 항을 더한다 |
| --- | --- |
| - | 왼쪽 항에 오른쪽 항을 뺀다 |
| * | 왼쪽 항에 오른쪽 항을 곱한다 |
| / | 왼쪽 항을 오른쪽 항으로 나눈다 |
| % | 왼쪽 항을 오른쪽 항으로 나눈 나머지 |
| ** | 왼쪽 항에 오른쪽 항만큼 제곱한다 |
| // | 왼쪽 항을 오른쪽 항으로 나눈 몫 |

**2. 대입 연산자(assignment operators)**

| = | 왼쪽 항에 오른쪽 항을 대입한다 |
| --- | --- |
| += | 왼쪽 항에 오른쪽 항의 값을 더하고 왼쪽 항에 대입한다 |
| -= | 왼쪽 항에 오른쪽 항의 값을 빼고 왼쪽 항에 대입한다 |
| *= | 왼쪽 항에 오른쪽 항의 값을 곱하고 왼쪽 항에 대입한다 |
| /= | 왼쪽 항을 오른쪽 항의 값으로 나누고 왼쪽 항에 대입한다 |
| %= | 왼쪽 항을 오른쪽 항의 값으로 나눈 나머지를 왼쪽 항에 대입한다 |
| **= | 왼쪽 항에 오른쪽 항의 값만큼 제곱하고 왼쪽 항에 대입한다 |
| //= | 왼쪽항을 오른쪽 항의 값으로 나눈 몫을 왼쪽 항에 대입한다 |

**3. 비교 연산자(comparison operator)**

**값의 크기를 비교하는 연산자이다. C++의 경우 값을 비교하여 참일 경우 1을 거짓일 경우 0을 반환했지만 파이썬은 참일 경우 True를 거짓일 경우 False의 bool형 값을 그대로 반환한다.**

| == | 왼쪽항과 오른쪽 항의 값이 같을 경우 참 |
| --- | --- |
| != | 왼쪽항과 오른쪽 항의 값이 다를 경우 참 |
| > | 왼쪽항이 오른쪽 항보다 큰 경우 참 |
| < | 왼쪽항이 오른쪽 항보다 작은 경우 참 |
| >= | 왼쪽항이 오른쪽 항보다 크거나 같을 경우 참 |
| <= | 왼쪽항이 오른쪽 항보다 작거나 같을 경우 참 |

**4. 논리 연산자(logical operator)**

**주어진 논리 식의 참(True) 거짓(False)을 판단한다.**

| and | 두 항을 비교하여 둘다 참일 경우 참을 반환 한다 |
| --- | --- |
| or | 두 항을 비교하여 둘중 하나라도 참인 경우 참을 반환 한다. |
| not | 논리 결과를 반전시킨다. |

| x | y | x and y | x or y | not(x) |
| --- | --- | --- | --- | --- |
| T | T | T | T | F |
| T | F | F | T | F |
| F | T | F | T | T |
| F | F | F | F | T |

**5. 비트 연산자(bitwise operator)**

**비트단위 논리 연산을 진행할 때 사용한다. 만약 a가 30일 경우 0001 1110으로 b가 5일 경우 0000 0101로 바꾸어 비교하는 것이다.**

| & | 두항의 비트를 비교 같은 자리의 비트가 모두 1일 경우 1을 반환 (비트AND) |
| --- | --- |
| | | 두항의 비트를 비교 같은 자리의 비트중 1이 존재할 경우 1을 반환 (비트 OR) |
| ^ | 두항의 같은 자리의 비트가 서로 다를 경우 1을 반환 (비트 XOR) |
| ~ | 비트가 1일 경우 0으로, 0일 경우 1로 반환 (비트 NOT, 1의 보수) |
| << | 지정한 수만큼 비트를 왼쪽으로 이동 (left shift) |
| >> | 지정한 수만큼 비트를 오른쪽으로 이동 (right shift) |

**6. 멤버 연산(membership operator)**

**멤버 연산자의 경우 list안에 확인하고자 하는 값이 들어가 있는지에 대한 여부를 확인할 때 사용한다.**

| in | 왼쪽항이 오른쪽 리스트 안에 들어 있으면 참 |
| --- | --- |
| not in | 왼쪽항이 오른쪽 리스트 안에 안들어 있으면 참 |

**※연산자 우선 순위**

| ** | 지수 |
| --- | --- |
| ~ + - | 보수, 양수와 음수 |
| * / % // | 곱하기, 나누기, 나머지, 몫 |
| + - | 덧셈과 뺄셈 |
| >> << | 좌우 비트 시프트 |
| & | 비트 'AND' |
| ^ | | 비트  'XOR'와  'OR' |
| <= < > >= | 비교 연산자 |
| <> == != | 비교 연산자 |
| = %= /= //= -= += *= **= | 대입 연산자 |
| is is not | 식별 연산자 |
| in not in | 맴버 연산자 |
| not or and | 논리 연산자 |

---

## 🎴문자열

1. 문자열 사용하기 기본 
- ‘’,”” 인에 문자를 넣는다
- 작은 따옴표를 표시 하고자 하면 큰 따옴표로 감싸고
- 큰 따옴표를 표시하고자 하면 작은 따옴표로 감싼다

**이스케이프 문자**

() 사용하기 

- \n : 줄바꿈 new line
- \t : 탭
- \r : 캐리지리턴

---

**문자열 함수**

- 문자열을 조작하는 함수
- .split().join().strip().replace()
- split() : 기준 문자를 기준으로 문자열을 분리 리스트로 저장
- join() : 앞 쪽에 지정한 형식을 포함해서 문자열을 합쳐준다
- strip() : 문자열 양쪽 끝에 공백이나 특수문자를 제거
    - 단점 : 문자열 내부의 특수문자 및 공백을 제거하지 못함
- replace() : 문자열에서 원하는 값을 찾아 다른 값으로 변경
- split으로 쪼개진 요소는 list로 반환시켜준다
    - **그러므로 list 형태이므로 list 형태를 가진 요소에는 사용할 수 없다**
    - 
- split으로 쪼개진 부분을 붙여주는 방법

| 명칭 | 용도 |
| --- | --- |
| split |  기준 문자를 기준으로 문자열을 분리 리스트로 저장 |
| join | 앞 쪽에 지정한 형식을 포함해서 문자열을 합쳐준다 |
| strip |  문자열 양쪽 끝에 공백이나 특수문자를 제거 |
| replace | 문자열에서 원하는 값을 찾아 다른 값으로 변경 |

```python
L4 = ['사과','배','포도','파인애플']

','.join(L4)
```

‘,’.join() 컴마를 기준으로 → 붙여주겠다 라는 의미 

split(list) ↔ join(str) 

번갈아가면서 사용하는 것이 중요할 것 같다. 

replace(’찾을문자’,’바꿀문자’)


---
**Review**

**데이터 분석을 할 때 웹에서 가져오는 데이터는 기본적으로 문자열 형태가 많음**

### 문자열을 얼마나 잘 다루느냐 == 데이터 전처리 속도를 좌우 함

---

**1. 문자열 사용하기의 기본**

---

**' ' 따옴표 안에 문자을 넣는다. 큰따옴표 작은따옴표 모두 가능**

---

자주 쓰는 이스케이프 문자 \n(줄바꿈), \t(탭), \r(캐리지리턴-줄 맨 왼쪽으로 커서이동)

**인덱스와 문자열**

---

**문자열은 여러개의 문자가 줄을 선 것과 같이 이어진 글자의 모음이므로 왼쪽부터 번호를 매길 수 있음**

**인덱스를 활용한 문자열 슬라이싱**

---

위의 인덱스를 활용하면 문자열이 일부분만 잘라서 가져오는 슬라이싱이 가능합니다.

**2. 문자열 함수**

---

문자열을 조작하는데는 활용되는 여러가지 함수가 있습니다. 이 함수들을 잘 사용해야 데이터 전처리를 효과적으로 할 수 있습니다. 특히 .split(), .join(), .strip() 등의 함수들을 잘 익혀두시기 바랍니다.

---

**1) 문자열 바꾸기**

---

**.replace(a,b) a를 찾아 b로 바꿈 단, 원본은 바꾸지 않기 때문에 따로 저장 필요**

**2) 문자바꾸기**

### str.maketrans('바꿀문자','새문자', '추가로 없앨문자') 로 변환테이블 생성 후 translate로 문자를 찾아 바꿈

---

**range 함수와 list 형변환을 이용하여 리스트 만들기**

- range(시작번호 , 끝번호 + 1, 증가량)

```python
d = list(range(1,101,3)) # 1부터 100까지 숫자 중 3씩 건너뛰면서 만들어줘 
d
```

```python
e = list(range(3,101,3))
```

### 🧨sep! 옵션

프린트 출력시 구분단위이다 

```python
f = 10 
g = 20 
h = 30

print(f,g,h,sep=',')
10,20,30
```

(,) 콤마로 구분되어 출력이 된다. 

또한 end 옵션이 가능하다 

### 🧨end! 옵션

```python
print(f,end='\t')
print(g,end='\t')
print(h,end='\t')
10	20	30
```

결과들끼리의 간격이 늘어난다 tab~ 같은 느낌

---

## **append()**

- list에 자료를 추가하는 함수
- 자료는 어떤것을 넣든 상관은 없지만 가장 끝에 붙는다

```python
c = [10,20,30]
c
[10, 20, 30]
c.append(50)
c
[10, 20, 30, 50]
```

## insert()

- list의 특정 index에 자료를 추가
- insert(넣고싶은 index,무엇을 넣을지?)

```python
c.insert(3,40)
c
[10, 20, 30, 40, 50, 50]
```

- 삽입된 자료 뒤의 자료는 인덱스가 뒤로 밀리게 된다.

## extend()

- list뒤에 다른 list의 자료만 추가하는 함수

append와 비교 

```python
c = [10,20,30]
d  = [200,300,400,500]
c.append(d) 
[10,20,30,[200,300,400,500]] 

c.extend(d)
[10,20,30,[200,300,400,500],200,300,400,500]] 
```

append는 리스트를 통째로 추가해주고 

extend는 리스트 안의 자료들을 넣어준다 

---

## 🧤리스트의 삭제

- 리스트 내부의 자료를 한 개 삭제 할 때
- 리스트는 항상 인덱스로 접근한다

```python
del 변수명[인덱스]
.pop() # 마지막 인덱스를 출력 후 삭제해줌 
```

.pop() : 리스트의 가장 마지막 데이터를 출력 후 삭제

.pop(변수의 인덱스 번호) 로도 추출하여 삭제 시킬 수 있다. 

## remove()

- .remove(리스트 안의 값)
- remove는 리스트 내의 중복 자료가 있을 경우 앞 쪽 자료만 삭제된다.

## clear()

- 리스트 내부의 자료를 모두 삭제 시킴
- 변수 자체는 삭제시키지는 못함

## index()

- list에서 특정 값의 인덱스를 구하기
- .index(찾을값 , 시작번호, 인덱스 끝번호)

## count()

- list 안에서 원하는 값이 몇 개 있는지 찾아줌

## **list 정렬하는 방법**

- .sort() : default 가 오름차순 - 작은숫자 -> 큰 숫자
- .sort(reverse = True) : 내림차순 - 큰 숫자 -> 작은 숫자
- 실행 하자마자 원본에 재할당 (덮어쓰기가 됨) reverse와 비슷하니 조심

---

## 내장함수의 문제점

자동 할당으로 인해 실수 한 번이면 되돌릴 수 없는 부분들이 굉장히 큼 

그 부분을 해결 

---

## **sorted()**

- sorted(변수명)
- 변수의 재할당(덮어쓰기) 없이 오름차순으로 정렬 된 결과를 보여줌

---

### 리스트 튜플, 문자열의 공통점

- 순서가 있고 연속된 값이 들어있다.
- 이러한 연속적인 자료형을 시퀀스 자료형이라고 한다. (시퀀스 객체라고도 함)
- 시퀀스 객체 : list , tuple , string , range() 자료형

---

**1. 특정 값이 스퀀스 객체 내에 있는지 확인하기 .**

: in 시퀀스 객체 (list,tuple,string,range())

```python
7 in a
True
```

```python
s = '우리는 오늘 삼복 더위에서 파이썬을 공부 하고 있습니다.'
'삼복' in s
True 
```

**2. 특정 값이 없는지 확인 하기**

값 not in 시퀀스 객체 

```python
'삼계탕' not in s 
True
```

**3. 시퀀스 객체 연결하기**

- '+' 연산자로 연결이 가능하다.
- 단 , range는 불가능 하다.

```python
a = list(range(10))
b = list(range(10,20))
print(a,b)
# a,b를 더하려면 원래는 extend를 써야하지만 
c = a+b
c
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
```

**4. 시퀀스 객체 반복하기 : * 연산자 사용**

- range()는 불가

**5. 시퀀스 객체의 길이를 구하는 함수 : len()**

**6. 시퀀스 자료형에서 자료 추가 삭제는 list만 가능하다**

🎈 문자열을 인덱싱이 가능하지만 수정이 불가능하다

---

## dictionary

---

### **딕셔너리(JSON) 사용하기**

- key : value 형태로 만들어진 자료형으로 반드시 key를 호출해야 value를 사용한다

### 2. 딕셔너리 key의 자료형

- 문자열, 정수, 실수, 불린(True,False)
- key로 올 수 없는 경우가 있는데 : list, 딕셔너리는 올수가 없음

### **3. 딕셔너리 값의 자료형**

- 딕셔너리 값에는 모든 자료형이 올 수 있다.

```python
y = {'정수':100,'실수':13.5,'문자열':'문자열문자열','리스트':[1,2,3,4],
     '튜플':(5,6,7,8),'딕셔너리':{'key':'value'},'boolean':True}
```

### **4.빈 딕셔너리 만들기**

- d = {}
- d = dict()

### **5. dict()로 딕셔너리 만들기**

- dict(key1 = value1 , key2 = value2) 형식으로 만들기
- 주의할 점 : key 값에 '',""를 쓰면 안 된다.
- 단점 : key 값에는 문자열로만 통일해서 넣을 수 있다 기존 {} 중괄호 내에서는 상관 없었지만 dict 내에서는 그게 불가능 하다는 것.

## 🎁부록

## **2) dict([(key1,value1),(key2,value2)])**

- 리스트 안에 (key,value)의 튜플을 나열해서 만든다

```python
d2 = dict([('정수',100),('실수',13.5)])
d2
```

## **3) dict(zip([key1,key2,key3,value1,value2,value3~]))**

형식으로 만들기

- zip 함수를 사용하여 첫 번째 리스트 key로 두 번째 리스트를 value로 값을 매칭해서 합침

dict(zip(['문자열','리스트','튜플','딕셔너리','블린']))

```python
dict(zip(['문자열','리스트','튜플','딕셔너리','블린']))
```

---

### 딕셔너리 key와 value 값을 삭제하기

- del 변수명[key] : 삭제가능

### 딕셔너리에 key와 value를  추가

- 변수명[추가할 Key] = 추가할 Value
